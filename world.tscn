[gd_scene load_steps=22 format=3 uid="uid://bbw6wp8t316yo"]

[ext_resource type="Texture2D" uid="uid://drj7yyfgprp25" path="res://Assets/Tiles/TileAtlas.png" id="1_f3sb7"]
[ext_resource type="PackedScene" uid="uid://di3ekj27o7rs1" path="res://character.tscn" id="1_fj7yv"]
[ext_resource type="Texture2D" uid="uid://dliqwpv4xje2u" path="res://Assets/Roof/RoofAtlas.png" id="1_tlwt5"]
[ext_resource type="Texture2D" uid="uid://bv33pxmd8n4gr" path="res://Assets/Tiles/TileGround.png" id="3_k3n1d"]
[ext_resource type="Texture2D" uid="uid://dt0ccnp3ml0r4" path="res://Assets/Tiles/Tile01.png" id="4_aqk2v"]
[ext_resource type="Texture2D" uid="uid://dexglkn3cvaho" path="res://Assets/Tiles/Tile03.png" id="5_036b0"]
[ext_resource type="PackedScene" uid="uid://cakdbtxho1uw6" path="res://FirstEnemy.tscn" id="5_ioo17"]
[ext_resource type="Texture2D" uid="uid://djolneymkabpk" path="res://Assets/BackgroundAndForeGroundSillouets/Sillouet01.png" id="6_dwbse"]
[ext_resource type="Script" uid="uid://c54svq3tuj2ky" path="res://scripts/interactionArea.gd" id="7_2o6r5"]
[ext_resource type="PackedScene" uid="uid://cfsj2hr5504iq" path="res://ShooterEnemy.tscn" id="7_70uel"]
[ext_resource type="Script" uid="uid://btketm83xc8ha" path="res://scripts/GameController.gd" id="7_pkg7o"]
[ext_resource type="Script" uid="uid://sh5jchf1rfwa" path="res://scripts/PlayerController.gd" id="8_gbfbk"]
[ext_resource type="Script" uid="uid://cu6tsp61jwldc" path="res://scripts/EnemyController.gd" id="10_wse8f"]
[ext_resource type="Script" uid="uid://b7c3lluw5qn0j" path="res://scripts/AllyController.gd" id="11_ic0uy"]

[sub_resource type="Gradient" id="Gradient_70uel"]
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_aqk2v"]
gradient = SubResource("Gradient_70uel")
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.5, 0)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_tlwt5"]
texture = ExtResource("1_tlwt5")
texture_region_size = Vector2i(600, 300)
0:0/0 = 0
1:0/0 = 0

[sub_resource type="TileSet" id="TileSet_036b0"]
sources/2 = SubResource("TileSetAtlasSource_tlwt5")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fj7yv"]
texture = ExtResource("1_f3sb7")
texture_region_size = Vector2i(250, 250)
0:0/0 = 0
2:0/0 = 0
1:0/0 = 0

[sub_resource type="TileSet" id="TileSet_gv5m4"]
sources/0 = SubResource("TileSetAtlasSource_fj7yv")

[sub_resource type="CircleShape2D" id="CircleShape2D_70uel"]
radius = 159.013

[node name="World" type="Node2D"]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.54099, 0.54099, 0.54099, 1)

[node name="Background" type="Node2D" parent="."]
z_index = -4

[node name="Polygon2D" type="Polygon2D" parent="Background"]
color = Color(0.0961667, 1.03601e-05, 0.101362, 1)
polygon = PackedVector2Array(-4646, -2381, 9657, -2368, 9631, 2024, -5511, 2129)

[node name="PointLight2D" type="PointLight2D" parent="Background"]
position = Vector2(-411, -198)
scale = Vector2(12.8594, 12.0234)
energy = 1.3
range_z_max = -4
texture = SubResource("GradientTexture2D_aqk2v")

[node name="PointLight2D2" type="PointLight2D" parent="Background"]
position = Vector2(756, 8.99997)
scale = Vector2(12.8594, 12.0234)
energy = 1.3
range_z_max = -4
texture = SubResource("GradientTexture2D_aqk2v")

[node name="PointLight2D3" type="PointLight2D" parent="Background"]
position = Vector2(1324, -305)
scale = Vector2(12.8594, 12.0234)
energy = 1.3
range_z_max = -4
texture = SubResource("GradientTexture2D_aqk2v")

[node name="Siilouets" type="Node2D" parent="Background"]
position = Vector2(-288, 0)

[node name="Parallax2D" type="Parallax2D" parent="Background/Siilouets"]
scroll_scale = Vector2(0.6, 1)

[node name="Sprite2D" type="Sprite2D" parent="Background/Siilouets/Parallax2D"]
position = Vector2(-536, -133)
rotation = 0.9168
scale = Vector2(0.615789, 0.779272)
texture = ExtResource("6_dwbse")

[node name="Sprite2D2" type="Sprite2D" parent="Background/Siilouets/Parallax2D"]
position = Vector2(-26, -147)
rotation = -0.0792652
scale = Vector2(0.615789, 0.779272)
texture = ExtResource("6_dwbse")

[node name="Sprite2D3" type="Sprite2D" parent="Background/Siilouets/Parallax2D"]
position = Vector2(197, -168)
rotation = 0.300414
scale = Vector2(0.615789, 0.779272)
texture = ExtResource("6_dwbse")

[node name="Sprite2D4" type="Sprite2D" parent="Background/Siilouets/Parallax2D"]
position = Vector2(748, -143)
rotation = 0.802766
scale = Vector2(0.615789, 0.779272)
texture = ExtResource("6_dwbse")

[node name="Sprite2D5" type="Sprite2D" parent="Background/Siilouets/Parallax2D"]
position = Vector2(812, -159)
rotation = 2.71983
scale = Vector2(0.615789, 0.779272)
texture = ExtResource("6_dwbse")
flip_v = true

[node name="Sprite2D6" type="Sprite2D" parent="Background/Siilouets/Parallax2D"]
position = Vector2(1179, -175)
rotation = 2.32075
scale = Vector2(0.615789, 0.779272)
texture = ExtResource("6_dwbse")
flip_h = true

[node name="RoofTiles" type="Node2D" parent="."]
z_index = -1

[node name="Tile01" type="Parallax2D" parent="RoofTiles"]
scroll_offset = Vector2(0, 269)

[node name="TileMap" type="TileMap" parent="RoofTiles/Tile01"]
tile_set = SubResource("TileSet_036b0")
format = 2
layer_0/tile_data = PackedInt32Array(-2359332, 65538, 0, -2293768, 2, 0, -2555888, 65538, 0, -2621394, 2, 0, -2686901, 65538, 0)

[node name="BlackTiles" type="Node2D" parent="."]
z_index = -1

[node name="Tile01" type="StaticBody2D" parent="BlackTiles"]
position = Vector2(0, -4)

[node name="Polygon2D" type="Polygon2D" parent="BlackTiles/Tile01"]
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-729, 1, -594, 11, -334, 6, -62, 1, 109, 16, 381, 14, 654, 14, 879, 32, 1305, 6, 1312, 809, -787, 809)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="BlackTiles/Tile01"]
position = Vector2(1, 5)
polygon = PackedVector2Array(1305, 7, 1055, 28, 906, 44, 597, 19, 381, 24, 138, 34, -69, 19, -242, 16, -474, 31, -730, 6, -787, 809, 1314, 808)

[node name="Tile02" type="StaticBody2D" parent="BlackTiles"]

[node name="Polygon2D" type="Polygon2D" parent="BlackTiles/Tile02"]
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(1475, -399, 905, -388, 595, -388, 380, -353, 36, -339, -101, -319, -375, -324, -837, -335, -850, -940, 1487, -914)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="BlackTiles/Tile02"]
polygon = PackedVector2Array(1487, -912, 1469, -395, 1078, -394, 840, -387, 470, -367, 170, -353, -11, -327, -286, -318, -582, -334, -840, -331, -850, -947)

[node name="GroundTiles" type="Node2D" parent="."]
modulate = Color(0.521141, 0.521141, 0.521141, 1)
z_index = 1

[node name="Ground" type="Node2D" parent="GroundTiles"]

[node name="Sprite2D" type="Sprite2D" parent="GroundTiles/Ground"]
position = Vector2(285.5, -12)
scale = Vector2(8.18, 1)
texture = ExtResource("3_k3n1d")

[node name="Parallax2D" type="Parallax2D" parent="GroundTiles"]

[node name="TileMap" type="TileMap" parent="GroundTiles/Parallax2D"]
tile_set = SubResource("TileSet_gv5m4")
format = 2
layer_0/tile_data = PackedInt32Array(-65541, 65536, 0, -131068, 131072, 0, -131058, 0, 0, -131047, 65536, 0, -65552, 131072, 0, -131036, 0, 0, -131028, 65536, 0, -65483, 65536, 0, -65473, 131072, 0, -65565, 0, 0, -65578, 65536, 0, -65462, 131072, 0)

[node name="Enemies" type="Node2D" parent="."]

[node name="FirstEnemy" parent="Enemies" instance=ExtResource("5_ioo17")]
position = Vector2(1033, -171)

[node name="InteractionArea2" type="Area2D" parent="Enemies/FirstEnemy"]
z_index = 20
script = ExtResource("7_2o6r5")
action_name = "Infect"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemies/FirstEnemy/InteractionArea2"]
shape = SubResource("CircleShape2D_70uel")

[node name="ShooterEnemy" parent="Enemies" instance=ExtResource("7_70uel")]
position = Vector2(-360, -187)

[node name="Player" type="Node2D" parent="."]
position = Vector2(-431, -12)

[node name="Player" parent="Player" instance=ExtResource("1_fj7yv")]
position = Vector2(718, -110)
scale = Vector2(0.5, 0.5)

[node name="ForeGround" type="Node2D" parent="."]

[node name="ForeGroundTiles" type="Node2D" parent="ForeGround"]

[node name="Parallax2D" type="Parallax2D" parent="ForeGround/ForeGroundTiles"]
scroll_scale = Vector2(1.2, 1)
scroll_offset = Vector2(-216, 61)

[node name="ForeGroundTile" type="Sprite2D" parent="ForeGround/ForeGroundTiles/Parallax2D"]
modulate = Color(0.230315, 0.230315, 0.230315, 1)
z_index = 2
position = Vector2(-321, 38)
scale = Vector2(4.372, 4.06)
texture = ExtResource("4_aqk2v")

[node name="ForeGroundTile3" type="Sprite2D" parent="ForeGround/ForeGroundTiles/Parallax2D"]
modulate = Color(0.230315, 0.230315, 0.230315, 1)
z_index = 2
position = Vector2(981, 48)
scale = Vector2(4.372, 4.06)
texture = ExtResource("5_036b0")
flip_h = true

[node name="ForeGroundTile4" type="Sprite2D" parent="ForeGround/ForeGroundTiles/Parallax2D"]
modulate = Color(0.230315, 0.230315, 0.230315, 1)
z_index = 2
position = Vector2(1630, 9)
scale = Vector2(4.372, 4.06)
texture = ExtResource("4_aqk2v")
flip_h = true

[node name="ForeGroundTile2" type="Sprite2D" parent="ForeGround/ForeGroundTiles/Parallax2D"]
modulate = Color(0.230315, 0.230315, 0.230315, 1)
z_index = 2
position = Vector2(379, 74)
scale = Vector2(4.372, 4.06)
texture = ExtResource("5_036b0")

[node name="Sillouets" type="Node2D" parent="ForeGround"]

[node name="Parallax2D" type="Parallax2D" parent="ForeGround/Sillouets"]
scroll_scale = Vector2(1.4, 1)

[node name="Sprite2D" type="Sprite2D" parent="ForeGround/Sillouets/Parallax2D"]
modulate = Color(0.241156, 0.241156, 0.241156, 1)
z_index = 3
position = Vector2(1210, -94)
scale = Vector2(1.72, 2.85)
texture = ExtResource("6_dwbse")

[node name="Sprite2D2" type="Sprite2D" parent="ForeGround/Sillouets/Parallax2D"]
modulate = Color(0.241156, 0.241156, 0.241156, 1)
z_index = 3
position = Vector2(895, -74)
rotation = -0.313023
scale = Vector2(1.26341, 2.55131)
texture = ExtResource("6_dwbse")
flip_h = true

[node name="Sprite2D3" type="Sprite2D" parent="ForeGround/Sillouets/Parallax2D"]
modulate = Color(0.241156, 0.241156, 0.241156, 1)
z_index = 3
position = Vector2(-335, -97)
rotation = -0.755453
scale = Vector2(1.26341, 2.55131)
texture = ExtResource("6_dwbse")
flip_h = true

[node name="Sprite2D4" type="Sprite2D" parent="ForeGround/Sillouets/Parallax2D"]
modulate = Color(0.241156, 0.241156, 0.241156, 1)
z_index = 3
position = Vector2(379, 13)
rotation = -0.0604626
scale = Vector2(1.26341, 2.55131)
texture = ExtResource("6_dwbse")
flip_h = true

[node name="Sprite2D5" type="Sprite2D" parent="ForeGround/Sillouets/Parallax2D"]
modulate = Color(0.241156, 0.241156, 0.241156, 1)
z_index = 3
position = Vector2(140, -180)
rotation = 0.253998
scale = Vector2(1.26341, 2.55131)
texture = ExtResource("6_dwbse")

[node name="GameController" type="Node2D" parent="."]
script = ExtResource("7_pkg7o")

[node name="PlayerController" type="Node2D" parent="GameController"]
script = ExtResource("8_gbfbk")

[node name="Camera2D" type="Camera2D" parent="GameController"]
position = Vector2(4, -145)
scale = Vector2(0.4, 0.4)

[node name="EnemyController" type="Node2D" parent="GameController"]
script = ExtResource("10_wse8f")

[node name="AllyController" type="Node2D" parent="GameController"]
script = ExtResource("11_ic0uy")
